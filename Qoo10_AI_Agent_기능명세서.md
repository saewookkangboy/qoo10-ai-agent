# Qoo10 Sales Intelligence Agent - 기능 명세서 (Functional Specification)

**문서 버전**: 1.0  
**작성일**: 2025-01-XX  
**작성자**: Product Team  
**관련 문서**: PRD v1.0

---

## 목차

1. [개요](#1-개요)
2. [시스템 아키텍처](#2-시스템-아키텍처)
3. [상세 기능 명세](#3-상세-기능-명세)
4. [데이터 모델](#4-데이터-모델)
5. [API 명세](#5-api-명세)
6. [UI/UX 명세](#6-uiux-명세)
7. [예외 처리](#7-예외-처리)
8. [테스트 시나리오](#8-테스트-시나리오)

---

## 1. 개요

### 1.1 문서 목적
본 문서는 Qoo10 Sales Intelligence Agent의 상세 기능 명세를 정의합니다. 개발팀이 구현할 수 있도록 구체적인 요구사항, 입력/출력, 비즈니스 로직을 명시합니다.

### 1.2 범위
- 핵심 기능 6개 (F1-F6)
- 중요 기능 3개 (F7-F9)
- UI/UX 상세 명세
- 데이터 모델 및 API 명세

### 1.3 용어 정의
- **상품 URL**: Qoo10 상품 상세페이지 URL
- **Shop URL**: Qoo10 Shop 페이지 URL
- **분석 리포트**: 상품/샵 분석 결과를 카드 형태로 표시한 리포트
- **액션 아이템**: 개선을 위해 실행해야 할 구체적인 작업

---

## 2. 시스템 아키텍처

### 2.1 전체 구조
```
[사용자] 
  ↓
[웹 프론트엔드] 
  ↓
[API Gateway]
  ↓
[분석 서비스] → [크롤링 서비스] → [AI 분석 서비스]
  ↓
[데이터베이스] ← [메뉴얼 지식베이스]
```

### 2.2 주요 컴포넌트
1. **프론트엔드**: React 기반 웹 애플리케이션
2. **API 서버**: RESTful API 제공
3. **크롤링 서비스**: Qoo10 페이지 데이터 수집
4. **AI 분석 서비스**: 자연어 처리, 이미지 분석, 데이터 분석
5. **지식베이스**: 큐텐 대학 메뉴얼 기반 지식 저장소

---

## 3. 상세 기능 명세

### 3.1 F1: URL 입력 및 분석 시작

#### 3.1.1 기능 개요
사용자가 Qoo10 상품 또는 Shop URL을 입력하면 분석을 시작합니다.

#### 3.1.2 입력
- **URL**: 문자열 (최대 500자)
- **URL 타입**: 상품 URL 또는 Shop URL (자동 감지)

#### 3.1.3 처리 로직
1. URL 형식 검증
   - Qoo10 도메인 확인 (`qoo10.jp`, `qoo10.com` 등)
   - URL 패턴 검증 (상품: `/Goods/Goods.aspx`, Shop: `/shop/`)
2. URL 접근 가능 여부 확인
   - HTTP 요청으로 페이지 존재 여부 확인
3. 분석 타입 결정
   - 상품 URL → 상품 분석
   - Shop URL → Shop 분석
4. 분석 작업 큐에 추가
5. 분석 ID 반환

#### 3.1.4 출력
- **성공 시**:
  ```json
  {
    "status": "success",
    "analysis_id": "uuid",
    "url_type": "product" | "shop",
    "estimated_time": 30
  }
  ```
- **실패 시**:
  ```json
  {
    "status": "error",
    "error_code": "INVALID_URL" | "ACCESS_DENIED" | "NETWORK_ERROR",
    "message": "에러 메시지"
  }
  ```

#### 3.1.5 UI 명세
- **입력 필드**: 
  - 플레이스홀더: "Qoo10 상품 또는 Shop URL을 입력하세요"
  - 유효성 검사 실시간 표시
- **제출 버튼**: "분석 시작"
- **로딩 상태**: 진행률 표시 (0-100%)

---

### 3.2 F2: 상품 상세페이지 분석

#### 3.2.1 기능 개요
상품 페이지의 이미지, 설명, 가격, 리뷰 등을 종합 분석합니다.

#### 3.2.2 데이터 수집 항목

**기본 정보**
- 상품명
- 상품 번호 (Goods Code)
- 카테고리
- 브랜드
- 판매가격
- 할인율
- 배송비
- 판매자 정보 (Shop ID, Shop 레벨)

**이미지 정보**
- 썸네일 이미지 URL
- 상세 이미지 URL 목록
- 이미지 개수
- 이미지 해상도

**상품 설명**
- 상품 설명 텍스트
- 검색어 (Search Keywords)
- 상품명 길이
- 설명 길이

**가격 정보**
- 정가
- 판매가
- 할인율
- 배송비

**리뷰 정보**
- 평점 (1-5점)
- 리뷰 수
- 리뷰 텍스트 (최근 50개)
- 긍정/부정 리뷰 비율

#### 3.2.3 분석 로직

**이미지 분석**
1. 썸네일 품질 평가
   - 해상도 확인 (권장: 800x800 이상)
   - 이미지 명도/대비 분석
   - 배경 처리 품질 평가
2. 상세 이미지 평가
   - 이미지 개수 확인 (권장: 5개 이상)
   - 이미지 다양성 평가 (다각도, 상세, 사용 예시)
3. 점수 계산: 0-100점

**상품 설명 분석**
1. SEO 키워드 분석
   - 검색어에 포함된 키워드 확인
   - 상품명 키워드 밀도 분석
   - 카테고리/브랜드 등록 여부 확인
2. 설명 품질 평가
   - 설명 길이 (권장: 500자 이상)
   - 구조화 여부 (줄바꿈, 리스트 등)
   - 일본어 품질 (문법, 자연스러움)
3. 점수 계산: 0-100점

**가격 전략 분석**
1. 경쟁사 가격 비교
   - 동일 카테고리 Top 10 평균 가격
   - 가격대별 포지셔닝 분석
2. 할인율 평가
   - 적정 할인율 범위 확인
   - 가격 심리학 기반 평가 (예: 9,800엔 vs 10,000엔)
3. 점수 계산: 0-100점

**리뷰 분석**
1. 평점 및 리뷰 수 평가
   - 평점 4.0 이상 권장
   - 리뷰 수 10개 이상 권장
2. 부정 리뷰 패턴 분석
   - 부정 키워드 감지 (품질, 배송, 설명 불일치 등)
   - 부정 리뷰 비율 계산
3. 개선 필요 항목 도출
4. 점수 계산: 0-100점

#### 3.2.4 출력
```json
{
  "product_code": "string",
  "product_name": "string",
  "category": "string",
  "overall_score": 75,
  "analysis": {
    "image": {
      "score": 80,
      "thumbnail_quality": "good",
      "image_count": 8,
      "recommendations": ["상세 이미지 2개 추가 권장"]
    },
    "description": {
      "score": 65,
      "seo_keywords": ["keyword1", "keyword2"],
      "description_length": 450,
      "recommendations": ["검색어에 '인기' 키워드 추가 권장"]
    },
    "price": {
      "score": 70,
      "position": "mid-range",
      "competitor_avg": 12000,
      "recommendations": ["경쟁사 대비 5% 할인 권장"]
    },
    "reviews": {
      "score": 85,
      "rating": 4.3,
      "review_count": 25,
      "negative_ratio": 0.12,
      "recommendations": ["배송 관련 부정 리뷰 개선 필요"]
    }
  }
}
```

---

### 3.3 F3: Shop 카테고리 분석

#### 3.3.1 기능 개요
Shop의 카테고리 포지셔닝, 경쟁사 분석, Shop 레벨을 분석합니다.

#### 3.3.2 데이터 수집 항목
- Shop ID
- Shop 이름
- Shop 레벨 (일반 셀러, 우수 셀러, 파워 셀러)
- 판매 상품 수
- 카테고리별 상품 분포
- 평균 평점
- 총 리뷰 수

#### 3.3.3 분석 로직

**카테고리 포지셔닝 분석**
1. 주요 카테고리 식별 (상품 수 기준)
2. 카테고리별 경쟁 강도 분석
   - 카테고리 내 상품 수
   - Top 10 상품 평균 가격
   - 카테고리별 수수료율 확인
3. 시장 점유율 추정 (상품 수 기준)

**경쟁사 분석**
1. 동일 카테고리 Top 10 상품 수집
2. 비교 항목:
   - 가격대 분포
   - 평균 평점
   - 리뷰 수
   - 광고 활용도 (파워랭크업 등)
3. 차별화 포인트 도출

**Shop 레벨 분석**
1. 현재 Shop 레벨 확인
2. 레벨별 정산 리드타임 확인
   - 일반 셀러: 배송 완료 후 15일
   - 우수 셀러: 배송 완료 후 10일
   - 파워 셀러: 배송 완료 후 5일
3. 레벨 상승 조건 확인
   - 판매 실적
   - 고객 만족도
   - 운영 지표
4. 개선 방안 제시

#### 3.3.4 출력
```json
{
  "shop_id": "string",
  "shop_name": "string",
  "shop_level": "normal" | "excellent" | "power",
  "settlement_leadtime": 15,
  "category_analysis": {
    "main_category": "뷰티, 화장품",
    "category_fee_rate": 10,
    "competition_intensity": "high",
    "market_share_estimate": 2.5
  },
  "competitor_analysis": {
    "top_10_products": [...],
    "price_positioning": "mid-range",
    "differentiation_points": ["고품질 이미지", "상세한 설명"]
  },
  "level_improvement": {
    "current_level": "normal",
    "target_level": "excellent",
    "requirements": ["월 매출 100만엔 이상", "평점 4.5 이상"],
    "recommendations": ["광고 활용도 증가", "고객 서비스 개선"]
  }
}
```

---

### 3.4 F4: 매출 강화 아이디어 제안

#### 3.4.1 기능 개요
메뉴얼 기반의 실전적인 매출 강화 아이디어를 우선순위별로 제안합니다.

#### 3.4.2 제안 카테고리

**SEO 최적화 제안**
- 검색 키워드 분석 및 제안
  - Qoo10 Analytics 기반 인기 키워드 추천
  - 상품명에 포함 권장 키워드
  - 검색어 필드 최적화 제안
- 카테고리/브랜드 등록 최적화
  - 적절한 카테고리 선택 확인
  - 브랜드 등록 여부 확인

**광고 전략 제안**
- 광고 유형 추천
  - 파워랭크업: 검색 노출 향상 (200엔부터)
  - 스마트세일즈: 알고리즘 기반 자동 노출
  - 플러스 전시: 전시형 광고
  - 키워드 플러스: 특정 키워드 검색 시 노출
- 예산 배분 제안
  - 상품별 예산 권장액
  - ROAS 목표 설정
- 광고 최적화 제안
  - 광고 문구 제안
  - 타겟팅 전략

**프로모션 제안**
- 샵 쿠폰 전략
  - 할인율 제안
  - 쿠폰 유효기간 제안
- 샘플마켓 참가 제안
  - 참가 가능 여부 확인 (상품 수량 10개 이상)
  - 참가 상품 추천
- 메가할인/메가포 대비 전략
  - 이벤트 준비 체크리스트
  - 가격 전략 제안
  - 광고 예산 배분 제안

**상품 페이지 개선 제안**
- 입구 상품 구성 제안
  - 고객 유입을 위한 입구 상품 선정 기준
  - 가격 전략 제안
- 전환율 향상 아이디어
  - 상품 설명 개선 제안
  - 이미지 추가 제안
  - 리뷰 활용 전략

#### 3.4.3 제안 생성 로직
1. 상품/샵 분석 결과 기반 취약점 파악
2. 메뉴얼 지식베이스에서 관련 노하우 검색
3. 우선순위 계산:
   - 즉시 실행 가능 여부
   - 예상 효과 (높음/중간/낮음)
   - 실행 난이도 (쉬움/보통/어려움)
4. 우선순위별로 정렬하여 제안 생성

#### 3.4.4 출력
```json
{
  "recommendations": [
    {
      "id": "rec_001",
      "category": "SEO",
      "priority": "high",
      "title": "검색어에 '인기' 키워드 추가",
      "description": "상품명에 '인기' 키워드를 추가하면 검색 노출이 30% 증가할 수 있습니다.",
      "action_items": [
        "상품명 수정: '[인기] 기존 상품명'",
        "검색어 필드에 '인기' 추가"
      ],
      "expected_impact": "high",
      "difficulty": "easy",
      "estimated_time": "5분",
      "manual_reference": "판매 데이터 관리・분석하기 - 검색 키워드 분석"
    },
    {
      "id": "rec_002",
      "category": "광고",
      "priority": "high",
      "title": "파워랭크업 광고 시작",
      "description": "검색 노출을 높이기 위해 파워랭크업 광고를 시작하세요. 200엔부터 시작 가능합니다.",
      "action_items": [
        "JQSM에서 파워랭크업 광고 설정",
        "일 예산 1,000엔 권장",
        "핵심 키워드 3-5개 선택"
      ],
      "expected_impact": "high",
      "difficulty": "medium",
      "estimated_time": "30분",
      "manual_reference": "광고・프로모션 활용하기 - 파워랭크업"
    }
  ]
}
```

---

### 3.5 F5: 메뉴얼 기반 체크리스트

#### 3.5.1 기능 개요
큐텐 대학 메뉴얼 기반의 체크리스트를 제공하고 완성도를 평가합니다.

#### 3.5.2 체크리스트 항목

**판매 준비 체크리스트**
- [ ] 상품 등록 완료 (상품명, 설명, 이미지)
- [ ] 검색어 설정 완료
- [ ] 카테고리 및 브랜드 등록 완료
- [ ] 가격 설정 완료
- [ ] 배송 정보 설정 완료
- [ ] 배송비 설정 완료
- [ ] 재고 관리 설정 완료

**매출 증대 체크리스트** (10가지 전략)
- [ ] 상품 페이지 최적화
- [ ] 검색 키워드 최적화
- [ ] 가격 전략 수립
- [ ] 고객 리뷰 관리
- [ ] 프로모션 활용
- [ ] 광고 전략 수립
- [ ] 배송 옵션 다양화
- [ ] 고객 서비스 개선
- [ ] 데이터 분석 기반 의사결정
- [ ] 지속적인 개선 및 테스트

**광고/프로모션 체크리스트**
- [ ] 파워랭크업 광고 활용
- [ ] 스마트세일즈 광고 활용
- [ ] 플러스 전시 광고 활용
- [ ] 샵 쿠폰 설정
- [ ] 상품 할인 설정
- [ ] 샘플마켓 참가 (가능한 경우)
- [ ] 메가할인/메가포 대비 준비

#### 3.5.3 체크리스트 평가 로직
1. 상품/샵 데이터 기반 자동 체크
   - 상품명 존재 여부 → 체크
   - 검색어 설정 여부 → 체크
   - 광고 활용 여부 → 체크
2. 수동 확인 필요 항목 표시
   - 사용자가 직접 체크해야 하는 항목
3. 완성도 계산
   - 완료 항목 / 전체 항목 * 100

#### 3.5.4 출력
```json
{
  "checklists": [
    {
      "category": "판매 준비",
      "completion_rate": 85,
      "items": [
        {
          "id": "item_001",
          "title": "상품 등록 완료",
          "status": "completed",
          "auto_checked": true
        },
        {
          "id": "item_002",
          "title": "검색어 설정 완료",
          "status": "pending",
          "auto_checked": false,
          "recommendation": "검색어 필드에 키워드를 추가하세요"
        }
      ]
    }
  ],
  "overall_completion": 75
}
```

---

### 3.6 F6: 리포트 시각화 (카드 형태)

#### 3.6.1 기능 개요
분석 결과를 카드 형태로 직관적으로 표시합니다.

#### 3.6.2 카드 레이아웃

**1. 헤더 섹션**
- 상품명/Shop명
- 분석 일시
- 종합 점수 (0-100점, 게이지 형태)

**2. 핵심 지표 카드 (4개)**
- 이미지 점수 카드
- 설명 점수 카드
- 가격 점수 카드
- 리뷰 점수 카드

**3. 분석 결과 카드**
- 이미지 분석 상세
- 설명 분석 상세
- 가격 분석 상세
- 리뷰 분석 상세

**4. 개선 제안 카드**
- 우선순위별 액션 아이템 목록
- 각 제안별 상세 설명 및 실행 방법

**5. 경쟁사 비교 카드** (선택)
- Top 10 상품 비교 테이블
- 차별화 포인트

**6. 체크리스트 카드**
- 카테고리별 체크리스트
- 완성도 표시

#### 3.6.3 카드 디자인 명세
- **카드 크기**: 최소 너비 300px, 높이 자동
- **색상**: 점수별 색상 구분
  - 80-100점: 녹색
  - 60-79점: 노란색
  - 0-59점: 빨간색
- **아이콘**: 각 카테고리별 아이콘 사용
- **반응형**: 모바일에서는 1열, 데스크톱에서는 2-3열 그리드

#### 3.6.4 인터랙션
- 카드 클릭 시 상세 정보 모달 표시
- 제안 항목 클릭 시 실행 방법 가이드 표시
- 리포트 다운로드 버튼

---

## 4. 데이터 모델

### 4.1 분석 결과 모델
```typescript
interface AnalysisResult {
  id: string;
  url: string;
  url_type: "product" | "shop";
  created_at: Date;
  product_analysis?: ProductAnalysis;
  shop_analysis?: ShopAnalysis;
  recommendations: Recommendation[];
  checklists: Checklist[];
  overall_score: number;
}

interface ProductAnalysis {
  product_code: string;
  product_name: string;
  category: string;
  image_score: number;
  description_score: number;
  price_score: number;
  review_score: number;
  // ... 상세 분석 데이터
}

interface Recommendation {
  id: string;
  category: string;
  priority: "high" | "medium" | "low";
  title: string;
  description: string;
  action_items: string[];
  expected_impact: string;
  difficulty: string;
  manual_reference: string;
}
```

---

## 5. API 명세

### 5.1 분석 시작 API
```
POST /api/v1/analyze
Request Body: { "url": "string" }
Response: { "analysis_id": "string", "status": "processing" }
```

### 5.2 분석 결과 조회 API
```
GET /api/v1/analyze/{analysis_id}
Response: AnalysisResult
```

### 5.3 리포트 다운로드 API
```
GET /api/v1/analyze/{analysis_id}/download?format=pdf|excel
Response: File
```

---

## 6. UI/UX 명세

### 6.1 메인 화면
- **URL 입력 영역**: 중앙 배치, 큰 입력 필드
- **최근 분석 목록**: 하단 또는 사이드바
- **도움말**: FAQ, 사용 가이드 링크

### 6.2 리포트 화면
- **스크롤 가능한 카드 레이아웃**
- **고정 헤더**: 상품명, 종합 점수
- **필터/정렬**: 우선순위별, 카테고리별 필터

### 6.3 모바일 최적화
- **터치 친화적**: 버튼 최소 44x44px
- **스와이프 제스처**: 카드 간 이동
- **하단 네비게이션**: 주요 기능 접근

---

## 7. 예외 처리

### 7.1 URL 관련 예외
- **INVALID_URL**: URL 형식 오류 → 사용자에게 올바른 형식 안내
- **ACCESS_DENIED**: 페이지 접근 불가 → 권한 확인 안내
- **NOT_FOUND**: 페이지 없음 → URL 확인 요청

### 7.2 분석 관련 예외
- **ANALYSIS_TIMEOUT**: 분석 시간 초과 → 재시도 옵션 제공
- **DATA_INSUFFICIENT**: 데이터 부족 → 부분 분석 결과 제공
- **CRAWLING_FAILED**: 크롤링 실패 → 재시도 또는 수동 입력 옵션

### 7.3 시스템 예외
- **SERVER_ERROR**: 서버 오류 → 에러 메시지 및 고객 지원 링크
- **RATE_LIMIT**: 요청 제한 초과 → 재시도 시간 안내

---

## 8. 테스트 시나리오

### 8.1 기능 테스트
1. **URL 입력 테스트**
   - 유효한 상품 URL 입력
   - 유효한 Shop URL 입력
   - 잘못된 URL 입력
   - 빈 값 입력

2. **분석 테스트**
   - 정상적인 상품 분석
   - 정상적인 Shop 분석
   - 데이터 부족한 상품 분석

3. **리포트 테스트**
   - 리포트 생성 및 표시
   - 리포트 다운로드 (PDF, Excel)

### 8.2 성능 테스트
- 동시 사용자 100명 부하 테스트
- 분석 완료 시간 30초 이내 확인

### 8.3 사용성 테스트
- 모바일/태블릿/데스크톱 반응형 테스트
- 접근성 테스트 (WCAG 2.1 AA)

---

## 부록: 메뉴얼 매핑

### 메뉴얼 섹션별 기능 매핑
- **입점 검토하기** → 수수료 계산, 정산 시기 안내
- **판매 준비하기** → 상품 등록 체크리스트, 배송 설정
- **판매 데이터 관리・분석하기** → SEO 최적화, 키워드 분석
- **매출 증대시키기** → 매출 강화 아이디어 제안
- **광고・프로모션 활용하기** → 광고 전략 제안
- **메가할인・메가포 대비하기** → 이벤트 대비 전략

---

**문서 승인**

- [ ] Product Manager
- [ ] Engineering Lead
- [ ] Design Lead
- [ ] QA Lead
